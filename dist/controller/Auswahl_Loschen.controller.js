sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/Core","sap/ui/layout/HorizontalLayout","sap/ui/layout/VerticalLayout","sap/m/Dialog","sap/m/Button","sap/m/Label","sap/m/library","sap/m/MessageToast","sap/m/Text","sap/m/TextArea"],function(e,t,o,s,n,a,r,i,l,u,g,jQuery){"use strict";var c=i.ButtonType;var p=i.DialogType;var d=new sap.ui.model.json.JSONModel;var h;return e.extend("devicerecognition.controller.Auswahl_Loschen",{onInit:function(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.getRoute("propertiesDelete").attachMatched(this._onRouteMatched,this)},_onRouteMatched:function(e){var t,o;var s=this;t=e.getParameter("arguments");o=this.getView();o.bindElement({path:"/lgSet("+t.Tplnr+")",events:{dataRequested:function(e){o.setBusy(true)},dataReceived:function(e){o.setBusy(false)}}});h=t.Tplnr;this.getView().byId("ALPropTxtId").setText(h);this.oReadingODataModel(h)},oReadingODataModel:function(e){var t=this;var o=this.getOwnerComponent().getModel();var s=e;o.read("/lgSet"+"('"+s+"')",{urlParameters:{$expand:["suggestions,messages,pictures,bewqueue"]},success:function(e,o){d.setData(e.bewqueue.results);t.getView().setModel(d,"myAlias")},error:function(e){console.log("Error Occured:"+e);alert("Error")}})},onSelectionClearance:function(){var e=this;var t=this.getView().byId("ALTableId").getSelectedItems();var o=t.length;if(o==0){l.show("No Selections made. Please try again! ")}else{if(!this.oApproveDialog){this.oApproveDialog=new n({type:"Message",title:"Confirmation",content:new u({text:"Are you sure to delete selected stocks?"}),beginButton:new a({text:"Yes",press:function(){e.OnDeleteItems();l.show("Successfully deleted the selected stocks!");this.oApproveDialog.close()}.bind(this)}),endButton:new a({text:"Cancel",press:function(){this.oApproveDialog.close()}.bind(this)})})}this.oApproveDialog.open()}},OnDeleteItems:function(){var e=this.getOwnerComponent().getModel();var t=this.getView().byId("ALTableId").getSelectedItems();var o=[];var s={};s.suggestions=[];s.pictures=[];s.messages=[{type:"",id:"",number:"000",message:"",messagev1:"",messagev2:"",messagev3:"",messagev4:""}];for(var n=0;n<t.length;n++){var a=t[n].getBindingContext("myAlias");o.push({zznutzeinheit:a.getProperty("zznutzeinheit"),zzgernr:a.getProperty("zzgernr"),point:a.getProperty("point"),gueltigbis:a.getProperty("gueltigbis"),gueltigab:a.getProperty("gueltigab")})}s.bewqueue=o;s.tplnr=h;var r=new sap.ui.model.json.JSONModel;var i=this;e.create("/lgSet",s,{success:function(e,t){i.oReadingODataModel(h)},error:function(e){l.show("Error Occured when posting the data")}})},onBack:function(){var e=this.getOwnerComponent().getRouter();e.navTo("propertyDelete",{Tplnr:h})}})});
//# sourceMappingURL=Auswahl_Loschen.controller.js.map